---
title: '关于终端尺不适配的问题'
categories: [Miscs]
tags: [终端, 串口]     
published: true
---

有时，使用终端软件打开发板的串口终端。由于开发板的串口终端好像不能自适应，经常出现和实际软件的终端大小不一的问题，导致显示混乱。

这里使用一个简单的方法，记录当前软件提供的终端大小，然后到开发板的串口终端重新设置，只要不改变软件终端窗口大小，就没问题。

**首先要获取软件终端的窗口大小**

在主机的终端软件（如Xshell等）上新建一个会话，连接到一个x86的linux系统，然后输入命令 `stty size` 查看终端大小。
如果是在linux系统中，直接在终端再开一个标签即可。

```console
$ stty size
53 211

$ echo $COLUMNS $LINES
53 211
```

这里第一个数字211是宽，第二个则是行数（高）。也可以通过`echo $COLUMNS $LINES`查看，这两个变量好像是bash内置的变量，记录终端靠窗口大小的。

**然后在开发板的串口终端重新设置**

开发板m默认终端大小是 '24 80'，重新设置即可适配软件终端大小。

```console
$ stty size
24 80

$ stty cols 211
$ stty rows 53

$ stty size
53 211
```

之后，开发板的串口终端可以在软件窗口正常显示了。